<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>
</head>
<body>

<div class="form-container">
    <h2>Reset Password</h2>
    <form id="reset-password-form">
        <input type="password" id="new-password" placeholder="New Password" required>
        <button type="submit">Reset Password</button>
    </form>
</div>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const token = urlParams.get('token');

    document.getElementById("reset-password-form").addEventListener("submit", function(event) {
        event.preventDefault(); // Prevent normal form submission

        const newPassword = document.getElementById("new-password").value;

        // Assume email is known (you would typically want to pass the email with the token)
        const email = "known_email@example.com"; // Replace this with actual email if known

        // Update the password in localStorage
        const users = JSON.parse(localStorage.getItem("users")) || {};
        if (users[email]) {
            users[email] = newPassword; // Update the password
            localStorage.setItem("users", JSON.stringify(users));
            alert("Password has been reset successfully.");
            window.location.href = "login.html"; // Redirect to login
        } else {
            alert("Error resetting password.");
        }
    });
</script>

</body>
</html>